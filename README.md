## waterfall-sinanews
[预览地址](https://breezewy.github.io/waterfall-sinanews/demo.html)

## 懒加载原理
先将img标签的src链接设为同一张图片（比如空白图片），然后给img标签设置自定义属性（比如 data-src）,然后将真正的图片地址存储在data-src中，当JS监听到该图片元素进入可视窗口时，将自定义属性中的地址存储到src属性中。达到懒加载的效果。

## 瀑布流原理
瀑布流布局，要求进行布局的元素等宽，然后计算元素的宽与浏览器的宽度之比，得到需要布置的列数。
创建一个数组，长度为列数，数组元素为每一列已布置元素的总高度。（一开始为0）。
将未布置的元素，依次布置到高度最小的那一列，然后更新这一些的高度，就得到了瀑布流布局。

### 实现原理：
1. 一开始，先获取数据，为了缓解服务器压力，一次性只获取10条，要实现这个效果，要实现定义好发给服务器的参数，curPage(可以理解为获取第几页的数据)，perPageCount（一次获取多少数据）。
2. 拿到数据以后，把数据拼装成DOM放到页面上。
3. 这个时候，再使用瀑布流布局去摆放元素的位置。
4. 当页面滚动，再次从步骤1开始重复。
